---
import MarketingLayout from '@/layouts/MarketingLayout.astro';
import Button from '@/components/ui/Button.astro';
import Card from '@/components/ui/Card.astro';
import ParticleBackground from '@/components/animation/ParticleBackground';
import HeroArchitecture from '@/components/diagrams/HeroArchitecture';
---

<MarketingLayout
  title="Build Digital Workers"
  description="Greentic - Build digital workers that execute boring tasks fast, secure, and extensible. Modular automation powered by WebAssembly."
>
  <!-- Hero Section -->
  <section class="relative min-h-[90vh] flex items-center justify-center overflow-hidden">
    <!-- Particle Background -->
    <div class="absolute inset-0 z-0">
      <ParticleBackground client:load particleCount={60} />
    </div>

    <!-- Gradient Overlay -->
    <div class="absolute inset-0 bg-gradient-to-b from-transparent via-background/50 to-background z-10"></div>

    <!-- Content -->
    <div class="relative z-20 container mx-auto px-4 md:px-6 py-20 text-center">
      <div class="max-w-4xl mx-auto space-y-8 animate-fade-in">
        <!-- Headline -->
        <h1 class="text-5xl md:text-7xl font-bold text-foreground leading-tight tracking-tight">
          Digital Workers That Execute<br />
          <span class="gradient-text">Fast, Secure, Extensible</span>
        </h1>

        <!-- Subheadline -->
        <p class="text-xl md:text-2xl text-muted-foreground max-w-3xl mx-auto leading-relaxed">
          Build intelligent automation with modular WebAssembly components, declarative flows, and secure multi-tenant
          execution. The platform for the agentic economy.
        </p>

        <!-- CTA Buttons -->
        <div class="flex flex-col sm:flex-row gap-4 justify-center items-center pt-4">
          <Button href="/docs/getting-started/quickstart" size="lg" variant="primary">
            Get Started
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="w-5 h-5 ml-2">
              <path d="M5 12h14M12 5l7 7-7 7" />
            </svg>
          </Button>
          <Button
            href="https://github.com/greentic-ai/greentic"
            size="lg"
            variant="outline"
          >
            <svg viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 mr-2">
              <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z" />
            </svg>
            View on GitHub
          </Button>
        </div>
      </div>
    </div>

    <!-- Scroll indicator -->
    <div class="absolute bottom-8 left-1/2 -translate-x-1/2 z-20 animate-bounce">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="w-6 h-6 text-muted-foreground">
        <path d="M12 5v14M19 12l-7 7-7-7" />
      </svg>
    </div>
  </section>

  <!-- Three Pillars Section -->
  <section class="py-24 bg-gradient-to-b from-background to-muted/30">
    <div class="container mx-auto px-4 md:px-6">
      <div class="text-center mb-16 space-y-4">
        <h2 class="text-4xl md:text-5xl font-bold text-foreground">Three Pillars of Greentic</h2>
        <p class="text-xl text-muted-foreground max-w-2xl mx-auto">
          A modular architecture designed for enterprise-grade digital workers
        </p>
      </div>

      <div class="grid md:grid-cols-3 gap-8 max-w-6xl mx-auto">
        <!-- Components -->
        <Card hover variant="default" class="text-center p-8">
          <div class="w-16 h-16 mx-auto mb-6 rounded-2xl bg-primary/10 flex items-center justify-center">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="w-8 h-8 text-primary">
              <polyline points="16 18 22 12 16 6" />
              <polyline points="8 6 2 12 8 18" />
            </svg>
          </div>
          <h3 class="text-2xl font-bold text-foreground mb-3">Components</h3>
          <p class="text-muted-foreground mb-4">
            Self-describing WebAssembly modules that execute securely in isolation. LLM, cards, scripts, and more.
          </p>
          <a href="/docs/architecture/components" class="text-primary hover:underline text-sm font-medium">
            Learn more &rarr;
          </a>
        </Card>

        <!-- Flows -->
        <Card hover variant="gradient" class="text-center p-8">
          <div class="w-16 h-16 mx-auto mb-6 rounded-2xl bg-[hsl(186,70%,50%,0.1)] flex items-center justify-center">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="w-8 h-8 text-[hsl(186,70%,50%)]">
              <polyline points="22 12 18 12 15 21 9 3 6 12 2 12" />
            </svg>
          </div>
          <h3 class="text-2xl font-bold text-foreground mb-3">Flows</h3>
          <p class="text-muted-foreground mb-4">
            Declarative YAML orchestration that wires components together with routing, conditions, and state.
          </p>
          <a href="/docs/architecture/flows" class="text-primary hover:underline text-sm font-medium">
            Learn more &rarr;
          </a>
        </Card>

        <!-- Packs -->
        <Card hover variant="default" class="text-center p-8">
          <div class="w-16 h-16 mx-auto mb-6 rounded-2xl bg-[hsl(220,70%,50%,0.1)] flex items-center justify-center">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="w-8 h-8 text-[hsl(220,70%,50%)]">
              <path d="m7.5 4.27 9 5.15" />
              <path d="M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z" />
              <path d="m3.3 7 8.7 5 8.7-5" />
              <path d="M12 22V12" />
            </svg>
          </div>
          <h3 class="text-2xl font-bold text-foreground mb-3">Packs</h3>
          <p class="text-muted-foreground mb-4">
            Signed, versioned bundles ready for enterprise distribution through the Greentic supply chain.
          </p>
          <a href="/docs/architecture/packs" class="text-primary hover:underline text-sm font-medium">
            Learn more &rarr;
          </a>
        </Card>
      </div>
    </div>
  </section>

  <!-- Interactive Architecture Diagram -->
  <section class="py-24">
    <div class="container mx-auto px-4 md:px-6">
      <div class="text-center mb-12 space-y-4">
        <h2 class="text-4xl md:text-5xl font-bold text-foreground">See How It Fits Together</h2>
        <p class="text-xl text-muted-foreground max-w-2xl mx-auto">
          Components combine into flows, flows bundle into packs. Click any node to explore.
        </p>
      </div>

      <div class="max-w-4xl mx-auto">
        <HeroArchitecture client:visible />
      </div>
    </div>
  </section>

  <!-- Features Grid -->
  <section class="py-24 bg-muted/30">
    <div class="container mx-auto px-4 md:px-6">
      <div class="text-center mb-16 space-y-4">
        <h2 class="text-4xl md:text-5xl font-bold text-foreground">Built for Enterprise</h2>
        <p class="text-xl text-muted-foreground max-w-2xl mx-auto">
          Security, scalability, and observability at every layer
        </p>
      </div>

      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto">
        <!-- Feature 1 -->
        <Card hover class="p-6">
          <div class="w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="w-6 h-6 text-primary">
              <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10" />
            </svg>
          </div>
          <h3 class="text-lg font-semibold text-foreground mb-2">Secure by Design</h3>
          <p class="text-sm text-muted-foreground">
            WebAssembly sandboxing, signed packs, mTLS everywhere, and strict capability controls.
          </p>
        </Card>

        <!-- Feature 2 -->
        <Card hover class="p-6">
          <div class="w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="w-6 h-6 text-primary">
              <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" />
              <circle cx="9" cy="7" r="4" />
              <path d="M22 21v-2a4 4 0 0 0-3-3.87" />
              <path d="M16 3.13a4 4 0 0 1 0 7.75" />
            </svg>
          </div>
          <h3 class="text-lg font-semibold text-foreground mb-2">Multi-Tenant</h3>
          <p class="text-sm text-muted-foreground">
            Complete isolation between tenants with TenantCtx propagated through every API call.
          </p>
        </Card>

        <!-- Feature 3 -->
        <Card hover class="p-6">
          <div class="w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="w-6 h-6 text-primary">
              <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z" />
              <polyline points="7.5 4.21 12 6.81 16.5 4.21" />
              <polyline points="7.5 19.79 7.5 14.6 3 12" />
              <polyline points="21 12 16.5 14.6 16.5 19.79" />
              <polyline points="3.27 6.96 12 12.01 20.73 6.96" />
              <line x1="12" y1="22.08" x2="12" y2="12" />
            </svg>
          </div>
          <h3 class="text-lg font-semibold text-foreground mb-2">MCP Integration</h3>
          <p class="text-sm text-muted-foreground">
            Native Model Context Protocol support for connecting AI models to external tools and data.
          </p>
        </Card>

        <!-- Feature 4 -->
        <Card hover class="p-6">
          <div class="w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="w-6 h-6 text-primary">
              <rect width="18" height="18" x="3" y="3" rx="2" />
              <path d="M3 9h18" />
              <path d="M9 21V9" />
            </svg>
          </div>
          <h3 class="text-lg font-semibold text-foreground mb-2">Messaging Channels</h3>
          <p class="text-sm text-muted-foreground">
            Teams, Slack, Telegram, WhatsApp, WebChat, and Webex out of the box.
          </p>
        </Card>

        <!-- Feature 5 -->
        <Card hover class="p-6">
          <div class="w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="w-6 h-6 text-primary">
              <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z" />
              <polyline points="14 2 14 8 20 8" />
              <line x1="16" y1="13" x2="8" y2="13" />
              <line x1="16" y1="17" x2="8" y2="17" />
              <line x1="10" y1="9" x2="8" y2="9" />
            </svg>
          </div>
          <h3 class="text-lg font-semibold text-foreground mb-2">Declarative YAML</h3>
          <p class="text-sm text-muted-foreground">
            Define complex orchestrations in simple, readable YGTC flow files with full schema validation.
          </p>
        </Card>

        <!-- Feature 6 -->
        <Card hover class="p-6">
          <div class="w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="w-6 h-6 text-primary">
              <path d="M22 12h-4l-3 9L9 3l-3 9H2" />
            </svg>
          </div>
          <h3 class="text-lg font-semibold text-foreground mb-2">Full Observability</h3>
          <p class="text-sm text-muted-foreground">
            OpenTelemetry traces, metrics, and logs for every flow execution with correlation IDs.
          </p>
        </Card>
      </div>
    </div>
  </section>

  <!-- Quick Links Section -->
  <section class="py-24">
    <div class="container mx-auto px-4 md:px-6">
      <div class="text-center mb-16 space-y-4">
        <h2 class="text-4xl md:text-5xl font-bold text-foreground">Start Building Today</h2>
        <p class="text-xl text-muted-foreground max-w-2xl mx-auto">
          Follow our tutorials and build your first digital worker
        </p>
      </div>

      <div class="grid md:grid-cols-3 gap-6 max-w-5xl mx-auto">
        <!-- Tutorial 1 -->
        <a href="/tutorials/demo-1-hello-world" class="group">
          <Card hover class="p-6 h-full">
            <div class="flex items-start gap-4">
              <div class="w-10 h-10 rounded-lg bg-green-500/10 flex items-center justify-center shrink-0">
                <span class="text-green-500 font-bold">1</span>
              </div>
              <div>
                <h3 class="font-semibold text-foreground mb-1 group-hover:text-primary transition-colors">
                  Hello World
                </h3>
                <p class="text-sm text-muted-foreground">
                  Learn the basics with a simple echo bot flow.
                </p>
              </div>
            </div>
          </Card>
        </a>

        <!-- Tutorial 2 -->
        <a href="/tutorials/demo-2-it-support" class="group">
          <Card hover class="p-6 h-full">
            <div class="flex items-start gap-4">
              <div class="w-10 h-10 rounded-lg bg-yellow-500/10 flex items-center justify-center shrink-0">
                <span class="text-yellow-500 font-bold">2</span>
              </div>
              <div>
                <h3 class="font-semibold text-foreground mb-1 group-hover:text-primary transition-colors">
                  IT Support Bot
                </h3>
                <p class="text-sm text-muted-foreground">
                  Build an LLM-powered support assistant.
                </p>
              </div>
            </div>
          </Card>
        </a>

        <!-- Tutorial 3 -->
        <a href="/tutorials/demo-3-rag-system" class="group">
          <Card hover class="p-6 h-full">
            <div class="flex items-start gap-4">
              <div class="w-10 h-10 rounded-lg bg-red-500/10 flex items-center justify-center shrink-0">
                <span class="text-red-500 font-bold">3</span>
              </div>
              <div>
                <h3 class="font-semibold text-foreground mb-1 group-hover:text-primary transition-colors">
                  RAG System
                </h3>
                <p class="text-sm text-muted-foreground">
                  Full-stack knowledge base with Astro frontend.
                </p>
              </div>
            </div>
          </Card>
        </a>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="py-24 bg-gradient-to-b from-background to-muted/30">
    <div class="container mx-auto px-4 md:px-6">
      <div
        class="max-w-3xl mx-auto text-center space-y-8 p-12 rounded-3xl bg-gradient-to-br from-primary/5 to-primary-glow/5 border border-primary/20"
      >
        <h2 class="text-4xl md:text-5xl font-bold text-foreground">Ready to Automate?</h2>
        <p class="text-xl text-muted-foreground">
          Join the growing community of developers building the future of digital workers.
        </p>

        <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
          <Button href="/docs/getting-started/quickstart" size="lg" variant="primary">
            Read the Docs
          </Button>
          <Button
            href="https://github.com/greentic-ai/greentic"
            size="lg"
            variant="outline"
          >
            Star on GitHub
          </Button>
        </div>
      </div>
    </div>
  </section>
</MarketingLayout>

<style>
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in {
    animation: fadeIn 0.8s ease-out forwards;
  }
</style>
