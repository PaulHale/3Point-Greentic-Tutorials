---
title: "Demo 1: Hello World Echo Bot"
description: Learn the basics of YGTc v2 flows by building a simple echo bot that repeats what you say.
difficulty: beginner
duration: "15 minutes"
prerequisites:
  - Greentic CLI installed
  - Basic YAML knowledge
order: 1
---

import CodeBlock from '@/components/tutorial/CodeBlock';
import Terminal from '@/components/tutorial/Terminal';
import Callout from '@/components/ui/Callout.astro';

# Hello World Echo Bot

In this tutorial, you'll learn the fundamentals of Greentic flows by building a simple bot that echoes back your messages. Along the way, you'll understand:

- How YGTc v2 flows are structured
- How nodes invoke operations
- How routing connects nodes
- How to validate and test flows locally

## Prerequisites

Make sure you have Greentic installed:

<Terminal
  client:visible
  lines={[
    { type: 'command', content: 'greentic-flow --version' },
    { type: 'output', content: 'greentic-flow 0.2.0' },
  ]}
/>

If not, follow the [Installation Guide](/docs/getting-started/installation) first.

## Create Your Project

Start by creating a directory for your first project:

<Terminal
  client:visible
  lines={[
    { type: 'command', content: 'mkdir hello-world && cd hello-world' },
    { type: 'command', content: 'mkdir flows' },
  ]}
/>

## Write Your First Flow

Create a new flow file using the CLI:

<Terminal
  client:visible
  lines={[
    { type: 'command', content: 'greentic-flow new --flow flows/echo.ygtc --id echo-flow --type messaging --name "Echo Bot"' },
    { type: 'success', content: "✓ Created flows/echo.ygtc" },
  ]}
/>

Now edit `flows/echo.ygtc` to add a simple echo node:

<CodeBlock
  client:visible
  filename="flows/echo.ygtc"
  language="yaml"
  code={`id: echo-flow
title: Echo Bot
description: A simple echo bot
type: messaging
start: echo

nodes:
  echo:
    templating.handlebars:
      text: "You said: {{in.text}}"
    routing:
      - out: true`}
/>

Let's break down what each part means:

### Flow Metadata

```yaml
id: echo-flow        # Unique identifier for this flow
title: Echo Bot      # Human-readable title
type: messaging      # Triggered by incoming messages
start: echo          # Which node to run first
```

### Nodes

```yaml
nodes:
  echo:                        # Node name (used for routing)
    templating.handlebars:     # Operation key
      text: "..."              # Config directly under operation
```

### Routing

```yaml
routing:
  - out: true        # Terminal - ends the flow
```

<Callout type="tip" title="Template Syntax">
  The `{{in.text}}` syntax is Handlebars templating. The `in.` prefix accesses flow input — here, `in.text` is the user's message text.
</Callout>

## Validate Your Flow

Before running, check that your flow is valid:

<Terminal
  client:visible
  lines={[
    { type: 'command', content: 'greentic-flow doctor flows/echo.ygtc' },
    { type: 'success', content: "✓ Flow 'echo-flow' is valid" },
    { type: 'output', content: '  Type: messaging' },
    { type: 'output', content: '  Nodes: 1' },
    { type: 'output', content: '  Start: echo' },
  ]}
/>

## Build and Run Locally

Build a pack from your flow and run it:

<Terminal
  client:visible
  lines={[
    { type: 'command', content: 'greentic-pack build --in . --gtpack-out dist/echo.gtpack' },
    { type: 'success', content: '✓ Pack built: dist/echo.gtpack' },
    { type: 'command', content: 'greentic-dev pack run --pack dist/echo.gtpack' },
    { type: 'output', content: 'Greentic Dev Server' },
    { type: 'output', content: 'Flow: echo-flow' },
    { type: 'output', content: 'Type: messaging' },
    { type: 'output', content: '' },
    { type: 'command', content: 'Hello, world!', delay: 1000 },
    { type: 'success', content: 'You said: Hello, world!' },
  ]}
/>

Try different messages and watch the bot echo them back!

## Add a Greeting Step

Let's make it more interactive by adding a greeting. First, add a step using the CLI:

<Terminal
  client:visible
  lines={[
    { type: 'command', content: 'greentic-flow add-step --flow flows/echo.ygtc --node-id greet --operation templating.handlebars --payload \'{"text":"Hello! I\\'m an echo bot. Tell me something!"}\' --routing-next echo' },
    { type: 'success', content: "✓ Added node 'greet'" },
  ]}
/>

Update the flow to start at the new greeting node:

<Terminal
  client:visible
  lines={[
    { type: 'command', content: 'greentic-flow update --flow flows/echo.ygtc --start greet' },
    { type: 'success', content: "✓ Updated flow metadata" },
  ]}
/>

Your flow now looks like:

<CodeBlock
  client:visible
  filename="flows/echo.ygtc"
  language="yaml"
  highlightLines={[5, 8, 9, 10, 11, 12]}
  code={`id: echo-flow
title: Echo Bot
description: A greeting echo bot
type: messaging
start: greet

nodes:
  greet:
    templating.handlebars:
      text: "Hello! I'm an echo bot. Tell me something!"
    routing:
      - to: echo

  echo:
    templating.handlebars:
      text: "You said: {{in.text}}"
    routing:
      - to: echo`}
/>

Now the flow:

1. **Starts** at the `greet` node
2. **Sends** a greeting message
3. **Routes** to the `echo` node
4. **Echoes** the user's input
5. **Loops** back to `echo` for the next message

<Callout type="info" title="Notice the Loop">
  The `echo` node routes to itself (`- to: echo`), creating a loop that keeps echoing until you stop the server.
</Callout>

## Test the Updated Flow

Validate and run again:

<Terminal
  client:visible
  lines={[
    { type: 'command', content: 'greentic-flow doctor flows/echo.ygtc' },
    { type: 'success', content: "✓ Flow 'echo-flow' is valid" },
    { type: 'command', content: 'greentic-pack build --in . --gtpack-out dist/echo.gtpack && greentic-dev pack run --pack dist/echo.gtpack' },
    { type: 'output', content: 'Greentic Dev Server' },
    { type: 'success', content: "Hello! I'm an echo bot. Tell me something!", delay: 500 },
    { type: 'command', content: 'Testing 123', delay: 1000 },
    { type: 'success', content: 'You said: Testing 123' },
    { type: 'command', content: 'Greentic is cool', delay: 1000 },
    { type: 'success', content: 'You said: Greentic is cool' },
  ]}
/>

## Add Q&A to Remember Names

Let's use the `qa.process` operation to collect the user's name:

<CodeBlock
  client:visible
  filename="flows/echo.ygtc"
  language="yaml"
  code={`id: echo-flow
title: Echo Bot
description: Echo bot that remembers your name
type: messaging
start: ask_name

nodes:
  ask_name:
    qa.process:
      welcome: "Hi! What's your name?"
      questions:
        - id: user_name
          prompt: "Please enter your name:"
          answer_type: text
    routing:
      - to: greet_user

  greet_user:
    templating.handlebars:
      text: "Nice to meet you, {{in.user_name}}!"
    routing:
      - to: echo

  echo:
    templating.handlebars:
      text: "{{in.user_name}}, you said: {{in.text}}"
    routing:
      - to: echo`}
/>

Key changes:

- **`qa.process`** — Collects structured Q&A responses
- **`{{in.user_name}}`** — References the Q&A answer via `in.` prefix (the question id)

Test it:

<Terminal
  client:visible
  lines={[
    { type: 'command', content: 'greentic-flow doctor flows/echo.ygtc && greentic-pack build --in . --gtpack-out dist/echo.gtpack && greentic-dev pack run --pack dist/echo.gtpack' },
    { type: 'success', content: "Hi! What's your name?", delay: 500 },
    { type: 'output', content: 'Please enter your name:', delay: 500 },
    { type: 'command', content: 'Claude', delay: 1000 },
    { type: 'success', content: 'Nice to meet you, Claude!' },
    { type: 'command', content: 'Hello there', delay: 1000 },
    { type: 'success', content: 'Claude, you said: Hello there' },
  ]}
/>

## Understanding Sidecar Files

When you use `greentic-flow add-step` with component references, a sidecar file is created:

```
flows/
├── echo.ygtc
└── echo.ygtc.resolve.json    # Tracks component bindings
```

The sidecar maps nodes to their backing components. You don't need to edit it manually — the CLI manages it for you.

## What You Learned

Congratulations! You've learned:

- ✅ YGTc v2 flow structure (id, type, start, nodes)
- ✅ How nodes use operation keys like `templating.handlebars` and `qa.process`
- ✅ Config goes directly under the operation (no `config:` wrapper)
- ✅ Array routing with `- to:` and `- out: true`
- ✅ Looping flows (node routes to itself)
- ✅ Referencing input and Q&A answers with `{{in.field}}`
- ✅ Validating flows with `greentic-flow doctor`
- ✅ Building and running packs locally

## Next Steps

Ready for more? Continue to:

- **[Demo 2: IT Support Bot](/tutorials/demo-2-it-support)** — Add LLM intelligence and conditional routing
- **[Flows Documentation](/docs/architecture/flows)** — Deep dive into flow syntax
- **[YGTC Schema Reference](/docs/reference/ygtc-schema)** — Complete schema documentation
